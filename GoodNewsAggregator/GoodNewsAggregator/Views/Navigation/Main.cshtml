@using GoodNewsAggregator.Core.DTO;
@using GoodNewsAggregator.Views.Constants;
@model NewsWithPages
@{
    ViewData["Title"] = "Main pageNumber";
}

<div class="text-center">
    <h1 class="display-4">Агрегатор хороших новостей</h1>

    @if (User.Identity.IsAuthenticated && User.IsInRole(RoleNames.ADMIN))
    {
        <a asp-action="Aggregate">Собрать</a>
    }

    <div class="row">
        @foreach (var article in Model.Articles)
        {
            <div class="col-sm-12 col-md-6 col-lg-4 mt-3">
                <div class="article-card">
                    <div class="float-left ml-1">Хорошесть:</div>
                    <div class="text-right mr-1">@article.Date.ToShortDateString()</div>
                    <div class="float-left ml-1">@(article.GoodFactor * 100)%</div>
                    <div class="text-right mr-1">@article.Date.TimeOfDay</div>
                    <p class="flex-wrap mt-2 font-weight-bold text-left ml-1 mr-1">@article.Title</p>
                    <a class="align-text-bottom read-next" asp-action="Article" asp-route-id="@article.Id">Читать -></a>
                </div>
            </div>
        }
    </div>

    <pagination page="Model.PageInfo" page-action="Main"></pagination>

</div>
@using GoodNewsAggregator.Core.DTO;
@model NewsOnPage
@{
    ViewData["Title"] = "Main page";
}

<div class="text-center">
    <h1 class="display-4">Агрегатор хороших новостей</h1>
</div>

@if (Model.Articles.Count() == 0)
{
    <div class="text-center mt-5">
        <h2>
            Новостей пока нет :(
        </h2>
    </div>
}

<div class="row">
    @foreach (var article in Model.Articles)
    {
        <div class="col-sm-6 col-md-4 col-lg-3 mt-2 p-1">
            <div class="article-card">
                <div class="float-left ml-1">Хорошесть:</div>
                <div class="text-right mr-1">@article.Date.ToShortDateString()</div>
                <div class="float-left ml-1" data-color="@(article.GoodFactor)">@(article.GoodFactor.ToString("0.##"))%</div>
                <div class="text-right mr-1">@article.Date.ToShortTimeString()</div>
                <div class="text-left ml-1 mr-1 mt-2">Источник:
                    <a class="read-next source-link" href="@article.Source">@article.RssName</a>
                </div>
                <div class="text-left ml-1 mr-1 mt-2 mb-1">
                    <a class="read-next title-link" asp-action="Article" asp-route-id="@article.Id">@article.Title</a>
                </div>
            </div>
        </div>
    }
</div>

<div class="text-center">
    <pagination page="Model.PageInfo" page-action="Main"></pagination>
</div>